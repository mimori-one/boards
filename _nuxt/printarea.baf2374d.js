import{f as O,r as a,o as I,c as F,m as j,a as l,u as k,n as R,g as w,v as D,F as E,h as H,j as L,d as A,b as N,t as C,p as P,e as $,_ as G}from"./entry.d0eae973.js";import{u as q,a as J}from"./index.48e43ec9.js";const K=O({__name:"upload",emits:["input"],setup(u,{emit:p}){const M=p,y=a(),o=q(),d=s=>{M("input",s)};o.onChange(d);const{isOverDropZone:f}=J(y,d);return(s,h)=>(I(),F("div",{ref_key:"dropZone",ref:y,class:'relative flex w-full flex-col items-center gap-2 rounded-md bg-gray-100 py-10 after:pointer-events-none after:absolute after:inset-1 after:rounded after:border after:border-dashed after:border-gray-300 after:content-[""] md:py-14'},[j(s.$slots,"default"),l("button",{onClick:h[0]||(h[0]=(...x)=>k(o).open&&k(o).open(...x)),class:"bordered"},"画像をアップロード"),l("div",{class:R(["hidden text-xs text-gray-500 md:block",k(f)?"font-bold":""])},null,2)],512))}}),z=u=>(P("data-v-4e0fcd41"),u=u(),$(),u),Q={class:"flex flex-col space-y-2"},X=z(()=>l("p",null,"印刷領域確認デモ ",-1)),Y=z(()=>l("div",{class:"text-xs"},"※画像を変える場合はリロードしてから使用してください",-1)),ee=["value"],te={class:"flex flex-row"},le=z(()=>l("div",null,"オリジナル画像の透明度",-1)),oe=["value"],ae=["src"],se=["src"],ne=O({__name:"printarea",setup(u){const p=a(null),M=[{w:182,h:128,label:"B6横"},{w:257,h:182,label:"B5横"},{w:364,h:257,label:"B4横"},{w:128,h:182,label:"B6縦"},{w:182,h:257,label:"B5縦"},{w:257,h:364,label:"B4縦"},{w:148,h:105,label:"A6横"},{w:210,h:148,label:"A5横"},{w:297,h:210,label:"A4横"},{w:105,h:148,label:"A6縦"},{w:148,h:210,label:"A5縦"},{w:210,h:297,label:"A4縦"}],y=["bg-white","bg-black","bg-blue-500","bg-orange-500"],o=a("情報なし"),d=a("bg-blue-500"),f=a(105),s=a(105),h={w:0,h:0},x=a(h),S=a(.5),T=()=>{const c=document.getElementById("fff");c.style.opacity=S.value},W=async c=>{if(c)try{console.log("file upload");const t=new Image;t.onload=()=>{const U={width:t.naturalWidth,height:t.naturalHeight};URL.revokeObjectURL(t.src),console.log(U.width);let n=parseFloat(U.width),r=parseFloat(U.height),v=parseFloat(f.value),B=parseFloat(s.value);o.value=n/v;const Z=document.getElementById("bond");if(Z.style.height=r+"px",n/(v+7)>r/(B+7)){const i=Math.floor(r*(3.5/(B+7)));o.value=i;const b=Math.floor((n-r*v/(B+7))/2);o.value=i+"-"+b;let g=Math.floor(parseFloat(i)*100/r),m=Math.floor(parseFloat(b)*100/n);o.value=g+"-"+m;const V=document.getElementById("ccc");let _="inset("+g+"% "+m+"%)";o.value=_,V.style.clipPath=_}else{const i=Math.floor(n*(3.5/(v+7))),b=Math.floor((r-n*B/(v+7))/2);o.value=b+"-"+i;let g=Math.floor(parseFloat(b)*100/r),m=Math.floor(parseFloat(i)*100/n);o.value=g+"-"+m;const V=document.getElementById("ccc");let _="inset("+g+"% "+m+"%)";o.value=_,V.style.clipPath=_}};const e=URL.createObjectURL(c[0]);t.src=e,p.value=e}finally{fileProgress.value=-1}};return(c,t)=>(I(),F("div",Q,[X,Y,w(l("select",{id:"asf",onChange:t[0]||(t[0]=e=>c.selectSize()),"onUpdate:modelValue":t[1]||(t[1]=e=>x.value=e),class:"select select-bordered w-48"},[l("option",{value:h},"定型サイズを選択"),(I(),F(E,null,H(M,e=>l("option",{value:e},C(e.label),9,ee)),64))],544),[[D,x.value]]),l("div",te,[w(l("input",{id:"search","onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[L,f.value]]),A("mm * "),w(l("input",{id:"search","onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[L,s.value]]),A("mm ")]),le,w(l("input",{type:"range",min:"0",max:"1","onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e),class:"range w-48",step:"0.1",onInput:T},null,544),[[L,S.value]]),w(l("select",{id:"bgs","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),class:"select select-bordered w-48"},[(I(),F(E,null,H(y,e=>l("option",{value:e},C(e),9,oe)),64))],512),[[D,d.value]]),N(K,{onInput:W}),A(" 想定印刷領域 "),l("div",{class:R(["h-screen",d.value]),id:"bond"},[l("img",{src:p.value,id:"fff",class:"absolute opacity-50"},null,8,ae),l("img",{src:p.value,id:"ccc",class:"absolute"},null,8,se)],2),l("div",null,C(o.value),1)]))}});const ce=G(ne,[["__scopeId","data-v-4e0fcd41"]]);export{ce as default};
