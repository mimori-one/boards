import{f as k,r as v,o as B,c as S,m as C,a as o,u as w,n as D,g as I,j as M,d as x,b as V,t as z,F as E,p as L,e as R,_ as Z}from"./entry.c7283a84.js";import{u as j,a as H}from"./index.cef8558c.js";const N=k({__name:"upload",emits:["input"],setup(i,{emit:r}){const t=r,c=v(),l=j(),b=e=>{t("input",e)};l.onChange(b);const{isOverDropZone:p}=H(c,b);return(e,a)=>(B(),S("div",{ref_key:"dropZone",ref:c,class:'relative flex w-full flex-col items-center gap-2 rounded-md bg-gray-100 py-10 after:pointer-events-none after:absolute after:inset-1 after:rounded after:border after:border-dashed after:border-gray-300 after:content-[""] md:py-14'},[C(e.$slots,"default"),o("button",{onClick:a[0]||(a[0]=(...u)=>w(l).open&&w(l).open(...u)),class:"bordered"},"画像をアップロード"),o("div",{class:D(["hidden text-xs text-gray-500 md:block",w(p)?"font-bold":""])},null,2)],512))}}),O=i=>(L("data-v-cb8eb7da"),i=i(),R(),i),P=O(()=>o("p",null,"印刷領域確認デモ",-1)),W={class:"h-screen",id:"bond"},T=["src"],$=["src"],q=["src"],A=k({__name:"printarea",setup(i){const r=v(null),t=v("情報なし"),c=v(105),l=v(105),b=async p=>{if(p)try{console.log("file upload");const e=new Image;e.onload=()=>{const u={width:e.naturalWidth,height:e.naturalHeight};URL.revokeObjectURL(e.src),console.log(u.width);let s=parseFloat(u.width),n=parseFloat(u.height),f=parseFloat(c.value),y=parseFloat(l.value);t.value=s/f;const U=document.getElementById("bond");if(U.style.height=n+"px",s/(f+7)>n/(y+7)){const d=Math.floor(n*(3.5/(y+7)));t.value=d;const h=Math.floor((s-n*f/(y+7))/2);t.value=d+"-"+h;let m=Math.floor(parseFloat(d)*100/n),_=Math.floor(parseFloat(h)*100/s);t.value=m+"-"+_;const F=document.getElementById("ccc");let g="inset("+m+"% "+_+"%)";t.value=g,F.style.clipPath=g}else{const d=Math.floor(s*(3.5/(f+7))),h=Math.floor((n-s*y/(f+7))/2);t.value=h+"-"+d;let m=Math.floor(parseFloat(h)*100/n),_=Math.floor(parseFloat(d)*100/s);t.value=m+"-"+_;const F=document.getElementById("ccc");let g="inset("+m+"% "+_+"%)";t.value=g,F.style.clipPath=g}};const a=URL.createObjectURL(p[0]);e.src=a,r.value=a}finally{fileProgress.value=-1}};return(p,e)=>(B(),S(E,null,[P,I(o("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[M,c.value]]),x("mm * "),I(o("input",{id:"search","onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[M,l.value]]),x("mm "),V(N,{onInput:b}),x(" 想定印刷領域 "),o("div",W,[o("img",{src:r.value,id:"ddd",class:"absolute opacity-50"},null,8,T),o("img",{src:r.value,id:"ccc",class:"absolute"},null,8,$)]),x(" オリジナル画像 "),o("img",{src:r.value,id:"ddd"},null,8,q),o("div",null,z(t.value),1)],64))}});const K=Z(A,[["__scopeId","data-v-cb8eb7da"]]);export{K as default};
