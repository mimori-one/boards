import{f as O,r as s,o as I,c as F,m as N,a as l,u as k,n as R,g as y,v as D,F as E,h as H,j as L,d as A,b as P,t as C,p as $,e as G,_ as q}from"./entry.f33af34c.js";import{u as J,a as K}from"./index.59c888a6.js";const Q=O({__name:"upload",emits:["input"],setup(p,{emit:v}){const M=v,x=s(),o=J(),d=a=>{M("input",a)};o.onChange(d);const{isOverDropZone:c}=K(x,d);return(a,f)=>(I(),F("div",{ref_key:"dropZone",ref:x,class:'relative flex w-full flex-col items-center gap-2 rounded-md bg-gray-100 py-10 after:pointer-events-none after:absolute after:inset-1 after:rounded after:border after:border-dashed after:border-gray-300 after:content-[""] md:py-14'},[N(a.$slots,"default"),l("button",{onClick:f[0]||(f[0]=(...i)=>k(o).open&&k(o).open(...i)),class:"bordered"},"画像をアップロード"),l("div",{class:R(["hidden text-xs text-gray-500 md:block",k(c)?"font-bold":""])},null,2)],512))}}),z=p=>($("data-v-694343b9"),p=p(),G(),p),X={class:"flex flex-col space-y-2"},Y=z(()=>l("p",null,"印刷領域確認デモ ",-1)),ee=z(()=>l("div",{class:"text-xs"},"※画像を変える場合はリロードしてから使用してください",-1)),te=["value"],le={class:"flex flex-row"},oe=z(()=>l("div",null,"オリジナル画像の透明度",-1)),ae=["value"],se=["src"],ne=["src"],re=O({__name:"printarea",setup(p){const v=s(null),M=[{w:182,h:128,label:"B6横"},{w:257,h:182,label:"B5横"},{w:364,h:257,label:"B4横"},{w:128,h:182,label:"B6縦"},{w:182,h:257,label:"B5縦"},{w:257,h:364,label:"B4縦"},{w:148,h:105,label:"A6横"},{w:210,h:148,label:"A5横"},{w:297,h:210,label:"A4横"},{w:105,h:148,label:"A6縦"},{w:148,h:210,label:"A5縦"},{w:210,h:297,label:"A4縦"}],x=["bg-white","bg-black","bg-blue-500","bg-orange-500"],o=s("情報なし"),d=s("bg-blue-500"),c=s(105),a=s(105),f={w:0,h:0},i=s(f),S=s(.5),T=()=>{const h=document.getElementById("fff");h.style.opacity=S.value},W=()=>{c.value=i.value.w,a.value=i.value.h},Z=async h=>{if(h)try{console.log("file upload");const t=new Image;t.onload=()=>{const U={width:t.naturalWidth,height:t.naturalHeight};URL.revokeObjectURL(t.src),console.log(U.width);let n=parseFloat(U.width),r=parseFloat(U.height),b=parseFloat(c.value),B=parseFloat(a.value);o.value=n/b;const j=document.getElementById("bond");if(j.style.height=r+"px",n/(b+7)>r/(B+7)){const u=Math.floor(r*(3.5/(B+7)));o.value=u;const g=Math.floor((n-r*b/(B+7))/2);o.value=u+"-"+g;let m=Math.floor(parseFloat(u)*100/r),_=Math.floor(parseFloat(g)*100/n);o.value=m+"-"+_;const V=document.getElementById("ccc");let w="inset("+m+"% "+_+"%)";o.value=w,V.style.clipPath=w}else{const u=Math.floor(n*(3.5/(b+7))),g=Math.floor((r-n*B/(b+7))/2);o.value=g+"-"+u;let m=Math.floor(parseFloat(g)*100/r),_=Math.floor(parseFloat(u)*100/n);o.value=m+"-"+_;const V=document.getElementById("ccc");let w="inset("+m+"% "+_+"%)";o.value=w,V.style.clipPath=w}};const e=URL.createObjectURL(h[0]);t.src=e,v.value=e}finally{fileProgress.value=-1}};return(h,t)=>(I(),F("div",X,[Y,ee,y(l("select",{id:"asf",onChange:t[0]||(t[0]=e=>W()),"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),class:"select select-bordered w-48"},[l("option",{value:f},"定型サイズを選択"),(I(),F(E,null,H(M,e=>l("option",{value:e},C(e.label),9,te)),64))],544),[[D,i.value]]),l("div",le,[y(l("input",{id:"search","onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[L,c.value]]),A("mm * "),y(l("input",{id:"search","onUpdate:modelValue":t[3]||(t[3]=e=>a.value=e),class:"input w-24 border border-gray-300",placeholder:"",type:"text"},null,512),[[L,a.value]]),A("mm ")]),oe,y(l("input",{type:"range",min:"0",max:"1","onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e),class:"range w-48",step:"0.1",onInput:T},null,544),[[L,S.value]]),y(l("select",{id:"bgs","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),class:"select select-bordered w-48"},[(I(),F(E,null,H(x,e=>l("option",{value:e},C(e),9,ae)),64))],512),[[D,d.value]]),P(Q,{onInput:Z}),A(" 想定印刷領域 "),l("div",{class:R(["h-screen",d.value]),id:"bond"},[l("img",{src:v.value,id:"fff",class:"absolute opacity-50"},null,8,se),l("img",{src:v.value,id:"ccc",class:"absolute"},null,8,ne)],2),l("div",null,C(o.value),1)]))}});const ie=q(re,[["__scopeId","data-v-694343b9"]]);export{ie as default};
